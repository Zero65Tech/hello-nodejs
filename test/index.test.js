const supertest = require('supertest')
const  {app}    = require('../src/index')
const jsonData1 = require('./env.json')

test('Api '/' Testing', async () => {

    await supertest(app)
        .get('/')
        .expect("Hello NodeJs !@@")
        .then(result => {
            console.log(result.text == 'Hello NodeJs !');
        })
})

test('Api "/_env" Testing', async () => {

    let jsonData = {"ACLOCAL_PATH":"C:\\Program Files\\Git\\mingw64\\share\\aclocal;C:\\Program Files\\Git\\usr\\share\\aclocal","ALLUSERSPROFILE":"C:\\ProgramData","APPDATA":"C:\\Users\\Hp\\AppData\\Roaming","ChocolateyInstall":"C:\\ProgramData\\chocolatey","ChocolateyLastPathUpdate":"133373285421821203","CHROME_CRASHPAD_PIPE_NAME":"\\\\.\\pipe\\crashpad_11104_NFDLURNELFWZGTLA","COLOR":"1","COLORTERM":"truecolor","COMMONPROGRAMFILES":"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files","CommonProgramW6432":"C:\\Program Files\\Common Files","COMPUTERNAME":"LAPTOP-KKAK3JT2","COMSPEC":"C:\\WINDOWS\\system32\\cmd.exe","CONFIG_SITE":"C:/Program Files/Git/etc/config.site","DISPLAY":"needs-to-be-defined","DriverData":"C:\\Windows\\System32\\Drivers\\DriverData","EDITOR":"C:\\WINDOWS\\notepad.exe","EFC_3340":"1","EXEPATH":"C:\\Program Files\\Git\\bin","FPS_BROWSER_APP_PROFILE_STRING":"Internet Explorer","FPS_BROWSER_USER_PROFILE_STRING":"Default","GIT_ASKPASS":"c:\\Users\\Hp\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh","HOME":"C:\\Users\\Hp","HOMEDRIVE":"C:","HOMEPATH":"\\Users\\Hp","HOSTNAME":"LAPTOP-KKAK3JT2","INFOPATH":"C:\\Program Files\\Git\\usr\\local\\info;C:\\Program Files\\Git\\usr\\share\\info;C:\\Program Files\\Git\\usr\\info;C:\\Program Files\\Git\\share\\info","INIT_CWD":"C:\\Users\\Hp\\Desktop\\zero65\\hello-nodejs","JEST_WORKER_ID":"1","LANG":"en_US.UTF-8","LOCALAPPDATA":"C:\\Users\\Hp\\AppData\\Local","LOGONSERVER":"\\\\LAPTOP-KKAK3JT2","MANPATH":"C:\\Program Files\\Git\\mingw64\\local\\man;C:\\Program Files\\Git\\mingw64\\share\\man;C:\\Program Files\\Git\\usr\\local\\man;C:\\Program Files\\Git\\usr\\share\\man;C:\\Program Files\\Git\\usr\\man;C:\\Program Files\\Git\\share\\man","MINGW_CHOST":"x86_64-w64-mingw32","MINGW_PACKAGE_PREFIX":"mingw-w64-x86_64","MINGW_PREFIX":"C:/Program Files/Git/mingw64","MSYSTEM":"MINGW64","MSYSTEM_CARCH":"x86_64","MSYSTEM_CHOST":"x86_64-w64-mingw32","MSYSTEM_PREFIX":"C:/Program Files/Git/mingw64","NODE":"C:\\Program Files\\nodejs\\node.exe","NODE_ENV":"test","npm_command":"test","npm_config_cache":"C:\\Users\\Hp\\AppData\\Local\\npm-cache","npm_config_globalconfig":"C:\\Program Files\\nodejs\\etc\\npmrc","npm_config_global_prefix":"C:\\Program Files\\nodejs","npm_config_init_module":"C:\\Users\\Hp\\.npm-init.js","npm_config_local_prefix":"C:\\Users\\Hp\\Desktop\\zero65\\hello-nodejs","npm_config_metrics_registry":"https://registry.npmjs.org/","npm_config_node_gyp":"C:\\Users\\Hp\\AppData\\Roaming\\nvm\\v18.17.1\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js","npm_config_noproxy":"","npm_config_prefix":"C:\\Program Files\\nodejs","npm_config_userconfig":"C:\\Users\\Hp\\.npmrc","npm_config_user_agent":"npm/9.6.7 node/v18.17.1 win32 x64 workspaces/false","npm_execpath":"C:\\Users\\Hp\\AppData\\Roaming\\nvm\\v18.17.1\\node_modules\\npm\\bin\\npm-cli.js","npm_lifecycle_event":"test","npm_lifecycle_script":"jest --coverage test","npm_node_execpath":"C:\\Program Files\\nodejs\\node.exe","npm_package_json":"C:\\Users\\Hp\\Desktop\\zero65\\hello-nodejs\\package.json","npm_package_name":"hello-nodejs","npm_package_version":"0.3.0","NUMBER_OF_PROCESSORS":"8","NVM_HOME":"C:\\Users\\Hp\\AppData\\Roaming\\nvm","NVM_SYMLINK":"C:\\Program Files\\nodejs","OLDPWD":"C:/Users/Hp/Desktop/zero65","OneDrive":"C:\\Users\\Hp\\OneDrive","OnlineServices":"Online Services","ORIGINAL_PATH":"C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\Hp\\bin;C:\\Python311\\Scripts;C:\\Python311;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Users\\Hp\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\ProgramData\\chocolatey\\bin;C:\\ffmpeg\\bin;C:\\Program Files\\Tesseract-OCR;C:\\Program Files (x86)\\Google\\Cloud SDK\\google-cloud-sdk\\bin;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Hp\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Hp\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Hp\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs","ORIGINAL_TEMP":"C:/Users/Hp/AppData/Local/Temp","ORIGINAL_TMP":"C:/Users/Hp/AppData/Local/Temp","ORIGINAL_XDG_CURRENT_DESKTOP":"undefined","OS":"Windows_NT","PATH":"C:\\Users\\Hp\\Desktop\\zero65\\hello-nodejs\\node_modules\\.bin;C:\\Users\\Hp\\Desktop\\zero65\\node_modules\\.bin;C:\\Users\\Hp\\Desktop\\node_modules\\.bin;C:\\Users\\Hp\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Hp\\AppData\\Roaming\\nvm\\v18.17.1\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Hp\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\local\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\Hp\\bin;C:\\Python311\\Scripts;C:\\Python311;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Users\\Hp\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\ProgramData\\chocolatey\\bin;C:\\ffmpeg\\bin;C:\\Program Files\\Tesseract-OCR;C:\\Program Files (x86)\\Google\\Cloud SDK\\google-cloud-sdk\\bin;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Hp\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Hp\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Hp\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files\\Git\\usr\\bin\\vendor_perl;C:\\Program Files\\Git\\usr\\bin\\core_perl","PATHEXT":".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW","PKG_CONFIG_PATH":"C:\\Program Files\\Git\\mingw64\\lib\\pkgconfig;C:\\Program Files\\Git\\mingw64\\share\\pkgconfig","platformcode":"KV","PLINK_PROTOCOL":"ssh","PROCESSOR_ARCHITECTURE":"AMD64","PROCESSOR_IDENTIFIER":"Intel64 Family 6 Model 140 Stepping 1, GenuineIntel","PROCESSOR_LEVEL":"6","PROCESSOR_REVISION":"8c01","ProgramData":"C:\\ProgramData","PROGRAMFILES":"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)","ProgramW6432":"C:\\Program Files","PROMPT":"$P$G","PSModulePath":"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Google\\Cloud SDK\\google-cloud-sdk\\platform\\PowerShell","PUBLIC":"C:\\Users\\Public","PWD":"C:/Users/Hp/Desktop/zero65/hello-nodejs","RegionCode":"APJ","SESSIONNAME":"Console","SHELL":"C:\\Program Files\\Git\\usr\\bin\\bash.exe","SHLVL":"2","SSH_ASKPASS":"C:/Program Files/Git/mingw64/bin/git-askpass.exe","SYSTEMDRIVE":"C:","SYSTEMROOT":"C:\\WINDOWS","TEMP":"C:\\Users\\Hp\\AppData\\Local\\Temp","TERM":"xterm-256color","TERM_PROGRAM":"vscode","TERM_PROGRAM_VERSION":"1.84.2","TMP":"C:\\Users\\Hp\\AppData\\Local\\Temp","TMPDIR":"C:\\Users\\Hp\\AppData\\Local\\Temp","USERDOMAIN":"LAPTOP-KKAK3JT2","USERDOMAIN_ROAMINGPROFILE":"LAPTOP-KKAK3JT2","USERNAME":"Hp","USERPROFILE":"C:\\Users\\Hp","VSCODE_GIT_ASKPASS_EXTRA_ARGS":"--ms-enable-electron-run-as-node","VSCODE_GIT_ASKPASS_MAIN":"c:\\Users\\Hp\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js","VSCODE_GIT_ASKPASS_NODE":"C:\\Users\\Hp\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe","VSCODE_GIT_IPC_HANDLE":"\\\\.\\pipe\\vscode-git-bb46230264-sock","WINDIR":"C:\\WINDOWS","ZES_ENABLE_SYSMAN":"1","_":"C:/Program Files/nodejs/node.exe","STAGE":"alpha"}

    await supertest(app)
        .get('/_env')
        .expect( jsonData1 )
        .then(result => {
            console.log(result.text == JSON.stringify( jsonData1 ) );
        })
})


